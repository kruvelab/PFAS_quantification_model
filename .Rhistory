color = instrument),
alpha = 0.5,
size = 1,
subset(datarbind_with_predicted$instrument, orbitrap) +
scale_color_manual(breaks = c("Orbitrap","Agilent XCT","Agilent 6495", "Thermo LTQ"),
values = c("blue", "light grey", "light grey","light grey"))+
# geom_point(aes(colour = cut(qsec, c(-Inf, 17, 19, Inf))),
#            size = 5) +
# scale_color_manual(name = "qsec",
#                    values = c("(-Inf,17]" = "black",
#                               "(17,19]" = "yellow",
#                               "(19, Inf]" = "red"),
#                    labels = c("<= 17", "17 < qsec <= 19", "> 19"))
#scale_y_log10() +
theme(legend.position="none")+
#theme_light()+
theme_classic()+
geom_abline(slope = 1, intercept = 0)+
facet_wrap(~split_first)
IE_slope_cor = ggplot(data = datarbind_with_predicted, aes(logIE, logIE_pred)) +
geom_point(aes(#x = logIE,#see if pred and actual are correlated
#y = logIE_pred,
#text = name)) +
color = instrument),
alpha = 0.5,
size = 1,
subset(datarbind_with_predicted$instrument, orbitrap)) +
scale_color_manual(breaks = c("Orbitrap","Agilent XCT","Agilent 6495", "Thermo LTQ"),
values = c("blue", "light grey", "light grey","light grey"))+
# geom_point(aes(colour = cut(qsec, c(-Inf, 17, 19, Inf))),
#            size = 5) +
# scale_color_manual(name = "qsec",
#                    values = c("(-Inf,17]" = "black",
#                               "(17,19]" = "yellow",
#                               "(19, Inf]" = "red"),
#                    labels = c("<= 17", "17 < qsec <= 19", "> 19"))
#scale_y_log10() +
theme(legend.position="none")+
#theme_light()+
theme_classic()+
geom_abline(slope = 1, intercept = 0)+
facet_wrap(~split_first)
IE_slope_cor
IE_slope_cor = ggplot(data = datarbind_with_predicted, aes(logIE, logIE_pred)) +
geom_point(aes(#x = logIE,#see if pred and actual are correlated
#y = logIE_pred,
#text = name)) +
color = instrument),
alpha = 0.5,
size = 1,
subset(datarbind_with_predicted$instrument, "orbitrap")) +
scale_color_manual(breaks = c("Orbitrap","Agilent XCT","Agilent 6495", "Thermo LTQ"),
values = c("blue", "light grey", "light grey","light grey"))+
# geom_point(aes(colour = cut(qsec, c(-Inf, 17, 19, Inf))),
#            size = 5) +
# scale_color_manual(name = "qsec",
#                    values = c("(-Inf,17]" = "black",
#                               "(17,19]" = "yellow",
#                               "(19, Inf]" = "red"),
#                    labels = c("<= 17", "17 < qsec <= 19", "> 19"))
#scale_y_log10() +
theme(legend.position="none")+
#theme_light()+
theme_classic()+
geom_abline(slope = 1, intercept = 0)+
facet_wrap(~split_first)
IE_slope_cor
IE_slope_cor = ggplot(data = datarbind_with_predicted, aes(logIE, logIE_pred)) +
geom_point(aes(#x = logIE,#see if pred and actual are correlated
#y = logIE_pred,
#text = name)) +
color = instrument),
alpha = 0.5,
size = 1,
subset(instrument, "orbitrap")) +
scale_color_manual(breaks = c("Orbitrap","Agilent XCT","Agilent 6495", "Thermo LTQ"),
values = c("blue", "light grey", "light grey","light grey"))+
# geom_point(aes(colour = cut(qsec, c(-Inf, 17, 19, Inf))),
#            size = 5) +
# scale_color_manual(name = "qsec",
#                    values = c("(-Inf,17]" = "black",
#                               "(17,19]" = "yellow",
#                               "(19, Inf]" = "red"),
#                    labels = c("<= 17", "17 < qsec <= 19", "> 19"))
#scale_y_log10() +
theme(legend.position="none")+
#theme_light()+
theme_classic()+
geom_abline(slope = 1, intercept = 0)+
facet_wrap(~split_first)
IE_slope_cor
IE_slope_cor = ggplot(data = datarbind_with_predicted, aes(logIE, logIE_pred)) +
geom_point(aes(#x = logIE,#see if pred and actual are correlated
#y = logIE_pred,
#text = name)) +
color = instrument),
alpha = 0.5,
size = 1,
subset= .(instrument == "orbitrap")) +
scale_color_manual(breaks = c("Orbitrap","Agilent XCT","Agilent 6495", "Thermo LTQ"),
values = c("blue", "light grey", "light grey","light grey"))+
# geom_point(aes(colour = cut(qsec, c(-Inf, 17, 19, Inf))),
#            size = 5) +
# scale_color_manual(name = "qsec",
#                    values = c("(-Inf,17]" = "black",
#                               "(17,19]" = "yellow",
#                               "(19, Inf]" = "red"),
#                    labels = c("<= 17", "17 < qsec <= 19", "> 19"))
#scale_y_log10() +
theme(legend.position="none")+
#theme_light()+
theme_classic()+
geom_abline(slope = 1, intercept = 0)+
facet_wrap(~split_first)
IE_slope_cor
library(plyr)
library(plyr)
IE_slope_cor = ggplot(data = datarbind_with_predicted, aes(logIE, logIE_pred)) +
geom_point(aes(#x = logIE,#see if pred and actual are correlated
#y = logIE_pred,
#text = name)) +
color = instrument),
alpha = 0.5,
size = 1,
subset= .(instrument == "orbitrap")) +
scale_color_manual(breaks = c("Orbitrap","Agilent XCT","Agilent 6495", "Thermo LTQ"),
values = c("blue", "light grey", "light grey","light grey"))+
# geom_point(aes(colour = cut(qsec, c(-Inf, 17, 19, Inf))),
#            size = 5) +
# scale_color_manual(name = "qsec",
#                    values = c("(-Inf,17]" = "black",
#                               "(17,19]" = "yellow",
#                               "(19, Inf]" = "red"),
#                    labels = c("<= 17", "17 < qsec <= 19", "> 19"))
#scale_y_log10() +
theme(legend.position="none")+
#theme_light()+
theme_classic()+
geom_abline(slope = 1, intercept = 0)+
facet_wrap(~split_first)
IE_slope_cor
IE_slope_cor = ggplot(data = datarbind_with_predicted, aes(logIE, logIE_pred)) +
geom_point(aes(#x = logIE,#see if pred and actual are correlated
#y = logIE_pred,
#text = name)) +
color = instrument),
alpha = 0.5,
size = 1,
subset= .(instrument == `Orbitrap´)) +
scale_color_manual(breaks = c("Orbitrap","Agilent XCT","Agilent 6495", "Thermo LTQ"),
values = c("blue", "light grey", "light grey","light grey"))+
# geom_point(aes(colour = cut(qsec, c(-Inf, 17, 19, Inf))),
#            size = 5) +
# scale_color_manual(name = "qsec",
#                    values = c("(-Inf,17]" = "black",
#                               "(17,19]" = "yellow",
#                               "(19, Inf]" = "red"),
#                    labels = c("<= 17", "17 < qsec <= 19", "> 19"))
#scale_y_log10() +
theme(legend.position="none")+
#theme_light()+
theme_classic()+
geom_abline(slope = 1, intercept = 0)+
facet_wrap(~split_first)
IE_slope_cor
IE_slope_cor = ggplot(data = datarbind_with_predicted, aes(logIE, logIE_pred)) +
geom_point(aes(#x = logIE,#see if pred and actual are correlated
#y = logIE_pred,
#text = name)) +
color = instrument,
scale_color_manual(breaks = c("Orbitrap","Agilent XCT","Agilent 6495", "Thermo LTQ"),
values = c("blue", "light grey", "light grey","light grey"))),
alpha = 0.5,
size = 1,
subset= .(instrument == "Orbitrap")) +
# scale_color_manual(breaks = c("Orbitrap","Agilent XCT","Agilent 6495", "Thermo LTQ"),
#                    values = c("blue", "light grey", "light grey","light grey"))+
# geom_point(aes(colour = cut(qsec, c(-Inf, 17, 19, Inf))),
#            size = 5) +
# scale_color_manual(name = "qsec",
#                    values = c("(-Inf,17]" = "black",
#                               "(17,19]" = "yellow",
#                               "(19, Inf]" = "red"),
#                    labels = c("<= 17", "17 < qsec <= 19", "> 19"))
#scale_y_log10() +
theme(legend.position="none")+
theme_classic()+
geom_abline(slope = 1, intercept = 0)+
facet_wrap(~split_first)
IE_slope_cor
IE_slope_cor = ggplot(data = datarbind_with_predicted, aes(logIE, logIE_pred)) +
geom_point(aes(color = instrument,
scale_color_manual(breaks = c("Orbitrap","Agilent XCT","Agilent 6495", "Thermo LTQ"),
values = c("blue", "light grey", "light grey","light grey"))),
alpha = 0.5,
size = 1,
subset= .(instrument == "Orbitrap")) +
# scale_color_manual(breaks = c("Orbitrap","Agilent XCT","Agilent 6495", "Thermo LTQ"),
#                    values = c("blue", "light grey", "light grey","light grey"))+
#scale_y_log10() +
theme(legend.position="none")+
theme_classic()+
geom_abline(slope = 1, intercept = 0)+
facet_wrap(~split_first)
IE_slope_cor
IE_slope_cor = ggplot(data = datarbind_with_predicted, aes(logIE, logIE_pred)) +
geom_point(aes(color = instrument,
scale_color_manual(breaks = c("Orbitrap","Agilent XCT","Agilent 6495", "Thermo LTQ"),
values = c("blue", "light grey", "light grey","light grey"))),
alpha = 0.5,
size = 1,
subset= .(instrument == "Orbitrap")) +
# scale_color_manual(breaks = c("Orbitrap","Agilent XCT","Agilent 6495", "Thermo LTQ"),
#                    values = c("blue", "light grey", "light grey","light grey"))+
#scale_y_log10() +
theme(legend.position="none")+
theme_classic()+
geom_abline(slope = 1, intercept = 0)+
facet_wrap(~split_first)
IE_slope_cor
IE_slope_cor = ggplot(data = datarbind_with_predicted, aes(logIE, logIE_pred)) +
geom_point(aes(color = instrument,
scale_color_manual(breaks = c("Orbitrap","Agilent XCT","Agilent 6495", "Thermo LTQ"),
values = c("blue", "light grey", "light grey","light grey"))),
alpha = 0.5,
size = 1,
subset= .(instrument == "Orbitrap")) +
# scale_color_manual(breaks = c("Orbitrap","Agilent XCT","Agilent 6495", "Thermo LTQ"),
#                    values = c("blue", "light grey", "light grey","light grey"))+
#scale_y_log10() +
theme(legend.position="none")+
theme_classic()+
geom_abline(slope = 1, intercept = 0)+
facet_wrap(~split_first)
IE_slope_cor
IE_slope_cor = ggplot(data = datarbind_with_predicted, aes(logIE, logIE_pred)) +
geom_point(aes(#x = logIE,#see if pred and actual are correlated
#y = logIE_pred,
#text = name)) +
color = instrument),
alpha = 0.5,
size = 1,
subset= .(instrument == `Orbitrap´)) +
scale_color_manual(breaks = c("Orbitrap","Agilent XCT","Agilent 6495", "Thermo LTQ"),
values = c("blue", "light grey", "light grey","light grey"))+
# geom_point(aes(colour = cut(qsec, c(-Inf, 17, 19, Inf))),
#            size = 5) +
# scale_color_manual(name = "qsec",
#                    values = c("(-Inf,17]" = "black",
#                               "(17,19]" = "yellow",
#                               "(19, Inf]" = "red"),
#                    labels = c("<= 17", "17 < qsec <= 19", "> 19"))
#scale_y_log10() +
theme(legend.position="none")+
theme_classic()+
geom_abline(slope = 1, intercept = 0)+
facet_wrap(~split_first)
IE_slope_cor
IE_slope_cor = ggplot(data = datarbind_with_predicted, aes(logIE, logIE_pred)) +
geom_point(aes(color = instrument),
alpha = 0.5,
size = 1) +
scale_color_manual(breaks = c("Orbitrap","Agilent XCT","Agilent 6495", "Thermo LTQ"),
values = c("blue", "light grey", "light grey","light grey"))+
# geom_point(aes(colour = cut(qsec, c(-Inf, 17, 19, Inf))),
#            size = 5) +
# scale_color_manual(name = "qsec",
#                    values = c("(-Inf,17]" = "black",
#                               "(17,19]" = "yellow",
#                               "(19, Inf]" = "red"),
#                    labels = c("<= 17", "17 < qsec <= 19", "> 19"))
#scale_y_log10() +
theme(legend.position="none")+
theme_classic()+
geom_abline(slope = 1, intercept = 0)+
facet_wrap(~split_first)
IE_slope_cor
IE_slope_cor = ggplot(data = datarbind_with_predicted, aes(logIE, logIE_pred)) +
geom_point(aes(color = instrument),
alpha = 0.5,
size = 1) +
scale_color_manual(breaks = c("Orbitrap","Agilent XCT","Agilent 6495", "Thermo LTQ"),
values = c("blue", "light grey", "light grey","light grey"))+
#scale_y_log10() +
theme(legend.position="none")+
theme_classic()+
geom_abline(slope = 1, intercept = 0)+
facet_wrap(~split_first)
IE_slope_cor
IE_slope_cor = ggplot(data = datarbind_with_predicted, aes(logIE, logIE_pred)) +
geom_point(aes(color = instrument),
subset(instrument,Orbitrap),
alpha = 0.5,
size = 1) +
scale_color_manual(breaks = c("Orbitrap","Agilent XCT","Agilent 6495", "Thermo LTQ"),
values = c("blue", "light grey", "light grey","light grey"))+
#scale_y_log10() +
theme(legend.position="none")+
theme_classic()+
geom_abline(slope = 1, intercept = 0)+
facet_wrap(~split_first)
IE_slope_cor = ggplot(data = datarbind_with_predicted, aes(logIE, logIE_pred)) +
geom_point(aes(color = instrument),
alpha = 0.5,
size = 1) +
scale_color_manual(breaks = c("Orbitrap","Agilent XCT","Agilent 6495", "Thermo LTQ"),
values = c("blue", "light grey", "light grey","light grey"))+
#scale_y_log10() +
theme(legend.position="none")+
theme_classic()+
geom_abline(slope = 1, intercept = 0)+
facet_wrap(~split_first)
IE_slope_cor
datarbind_with_predicted <- datarbind_with_predicted %>%
arrange(instrument)
View(datarbind_with_predicted)
IE_slope_cor = ggplot(data = datarbind_with_predicted, aes(logIE, logIE_pred)) +
geom_point(aes(color = instrument),
alpha = 0.5,
size = 1) +
scale_color_manual(breaks = c("Orbitrap","Agilent XCT","Agilent 6495", "Thermo LTQ"),
values = c("blue", "light grey", "light grey","light grey"))+
#scale_y_log10() +
theme(legend.position="none")+
theme_classic()+
geom_abline(slope = 1, intercept = 0)+
facet_wrap(~split_first)
IE_slope_cor
IE_slope_cor = ggplot(data = datarbind_with_predicted, aes(logIE, logIE_pred)) +
geom_point(aes(color = instrument),
alpha = 0.5,
size = 2) +
scale_color_manual(breaks = c("Orbitrap","Agilent XCT","Agilent 6495", "Thermo LTQ"),
values = c("blue", "light grey", "light grey","light grey"))+
#scale_y_log10() +
theme(legend.position="none")+
theme_classic()+
geom_abline(slope = 1, intercept = 0)+
facet_wrap(~split_first)
IE_slope_cor
IE_slope_cor = ggplot(data = datarbind_with_predicted, aes(logIE, logIE_pred)) +
geom_point(aes(color = instrument),
#alpha = 0.5,
size = 2) +
scale_color_manual(breaks = c("Orbitrap","Agilent XCT","Agilent 6495", "Thermo LTQ"),
values = c("blue", "light grey", "light grey","light grey"))+
#scale_y_log10() +
theme(legend.position="none")+
theme_classic()+
geom_abline(slope = 1, intercept = 0)+
facet_wrap(~split_first)
IE_slope_cor
IE_slope_cor = ggplot(data = datarbind_with_predicted, aes(logIE, logIE_pred)) +
geom_point(aes(color = instrument),
alpha = 1,
size = 2) +
scale_color_manual(breaks = c("Orbitrap","Agilent XCT","Agilent 6495", "Thermo LTQ"),
values = c("blue", "light grey", "light grey","light grey"))+
#scale_y_log10() +
theme(legend.position="none")+
theme_classic()+
geom_abline(slope = 1, intercept = 0)+
facet_wrap(~split_first)
IE_slope_cor
IE_slope_cor = ggplot(data = datarbind_with_predicted, aes(logIE, logIE_pred)) +
geom_point(aes(color = instrument),
alpha = 0.5,
size = 2) +
scale_color_manual(breaks = c("Orbitrap","Agilent XCT","Agilent 6495", "Thermo LTQ"),
values = c("blue", "light grey", "light grey","light grey"))+
#scale_y_log10() +
theme(legend.position="none")+
theme_classic()+
geom_abline(slope = 1, intercept = 0)+
facet_wrap(~split_first)
IE_slope_cor
IE_slope_cor = ggplot(data = datarbind_with_predicted, aes(logIE, logIE_pred)) +
geom_point(aes(color = instrument),
alpha = 0.75,
size = 2) +
scale_color_manual(breaks = c("Orbitrap","Agilent XCT","Agilent 6495", "Thermo LTQ"),
values = c("blue", "light grey", "light grey","light grey"))+
#scale_y_log10() +
theme(legend.position="none")+
theme_classic()+
geom_abline(slope = 1, intercept = 0)+
facet_wrap(~split_first)
IE_slope_cor
IE_slope_cor = ggplot(data = datarbind_with_predicted, aes(logIE, logIE_pred)) +
geom_point(aes(color = instrument),
alpha = 0.65,
size = 2) +
scale_color_manual(breaks = c("Orbitrap","Agilent XCT","Agilent 6495", "Thermo LTQ"),
values = c("blue", "light grey", "light grey","light grey"))+
#scale_y_log10() +
theme(legend.position="none")+
theme_classic()+
geom_abline(slope = 1, intercept = 0)+
facet_wrap(~split_first)
IE_slope_cor
IE_slope_cor = ggplot(data = datarbind_with_predicted, aes(logIE, logIE_pred)) +
geom_point(aes(color = instrument),
alpha = 0.65,
size = 2.5) +
scale_color_manual(breaks = c("Orbitrap","Agilent XCT","Agilent 6495", "Thermo LTQ"),
values = c("blue", "light grey", "light grey","light grey"))+
#scale_y_log10() +
theme(legend.position="none")+
theme_classic()+
geom_abline(slope = 1, intercept = 0)+
facet_wrap(~split_first)
IE_slope_cor
IE_slope_cor = ggplot(data = datarbind_with_predicted, aes(logIE, logIE_pred)) +
geom_point(aes(color = instrument),
alpha = 0.5,
size = 3) +
scale_color_manual(breaks = c("Orbitrap","Agilent XCT","Agilent 6495", "Thermo LTQ"),
values = c("blue", "light grey", "light grey","light grey"))+
#scale_y_log10() +
theme(legend.position="none")+
theme_classic()+
geom_abline(slope = 1, intercept = 0)+
facet_wrap(~split_first)
IE_slope_cor
IE_slope_cor = ggplot(data = datarbind_with_predicted, aes(logIE, logIE_pred)) +
geom_point(aes(color = instrument),
alpha = 1,
size = 3) +
scale_color_manual(breaks = c("Orbitrap","Agilent XCT","Agilent 6495", "Thermo LTQ"),
values = c("blue", "light grey", "light grey","light grey"))+
#scale_y_log10() +
theme(legend.position="none")+
theme_classic()+
geom_abline(slope = 1, intercept = 0)+
facet_wrap(~split_first)
IE_slope_cor
IE_slope_cor = ggplot(data = datarbind_with_predicted, aes(logIE, logIE_pred)) +
geom_point(aes(color = instrument),
#alpha = 1,
size = 3) +
scale_color_manual(breaks = c("Orbitrap","Agilent XCT","Agilent 6495", "Thermo LTQ"),
values = c("blue", "light grey", "light grey","light grey"))+
#scale_y_log10() +
theme(legend.position="none")+
theme_classic()+
geom_abline(slope = 1, intercept = 0)+
facet_wrap(~split_first)
IE_slope_cor
IE_slope_cor = ggplot(data = datarbind_with_predicted, aes(logIE, logIE_pred)) +
geom_point(aes(color = instrument),
alpha = 5,
size = 3) +
scale_color_manual(breaks = c("Orbitrap","Agilent XCT","Agilent 6495", "Thermo LTQ"),
values = c("blue", "light grey", "light grey","light grey"))+
#scale_y_log10() +
theme(legend.position="none")+
theme_classic()+
geom_abline(slope = 1, intercept = 0)+
facet_wrap(~split_first)
IE_slope_cor
IE_slope_cor = ggplot(data = datarbind_with_predicted, aes(logIE, logIE_pred)) +
geom_point(aes(color = instrument),
#alpha = 5,
size = 3) +
scale_color_manual(breaks = c("Orbitrap","Agilent XCT","Agilent 6495", "Thermo LTQ"),
values = c("blue", "light grey", "light grey","light grey"))+
#scale_y_log10() +
theme(legend.position="none")+
theme_classic()+
geom_abline(slope = 1, intercept = 0)+
facet_wrap(~split_first)
IE_slope_cor
IE_slope_cor = ggplot(data = datarbind_with_predicted, aes(logIE, logIE_pred)) +
geom_point(aes(color = instrument),
alpha = 0.5,
size = 3) +
scale_color_manual(breaks = c("Orbitrap","Agilent XCT","Agilent 6495", "Thermo LTQ"),
values = c("blue", "light grey", "light grey","light grey"))+
#scale_y_log10() +
theme(legend.position="none")+
theme_classic()+
geom_abline(slope = 1, intercept = 0)+
facet_wrap(~split_first)
IE_slope_cor
IE_slope_cor = ggplot(data = datarbind_with_predicted, aes(logIE, logIE_pred)) +
geom_point(aes(color = instrument),
alpha = 0.5,
size = 3) +
scale_color_manual(breaks = c("Orbitrap","Agilent XCT","Agilent 6495", "Thermo LTQ"),
values = c("blue", "light grey", "light grey","light grey"))+
#scale_y_log10() +
theme(legend.position="none")+
theme_classic()+
geom_abline(slope = 1, intercept = 0)+
facet_wrap(~split_first)
IE_slope_cor
IE_slope_cor_Thomas = ggplot(data = datarbind_with_predicted %>%
filter(instrument == "Orbitrap")) +
geom_point(mapping = aes(x = logIE,#see if pred and actual are correlated
y = logIE_pred,
#text = name)) +
color = name)) +
#scale_y_log10() +
theme(legend.position="none")+
geom_abline(slope = 1, intercept = 0)+
facet_wrap(~split_first)
IE_slope_cor_Thomas
rmse((datarbind_with_predicted %>% filter(split_first == TRUE))$logIE,
(datarbind_with_predicted %>% filter(split_first == TRUE))$logIE_pred)
#0.22
rmse((datarbind_with_predicted %>% filter(split_first == FALSE))$logIE,
(datarbind_with_predicted %>% filter(split_first == FALSE))$logIE_pred)
